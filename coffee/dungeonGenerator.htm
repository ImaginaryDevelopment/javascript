<html>
    
    <body>
        <a href="https://github.com/ImaginaryDevelopment/javascript/raw/master/coffee/dungeonGenerator.js">Dungeon Generator.js</a>
        which is based on
        <a href="http://roguebasin.roguelikedevelopment.org/index.php?title=Java_Example_of_Dungeon-Building_Algorithm"> Bsp Dungeon Building</a>

        <div data-role="inputs">
            x size:
            <input type="text" data-bind="value: x" />
            y size:
            <input type="text" data-bind="value: y" />
            <input type="button" data-bind="click: generate" value="generate" />
        </div>
        <table>
            <tbody data-bind="foreach: rows">
                <tr data-bind="foreach: $data,attr:{'data-y':$index}">
                    <td data-bind="text:src">
                        test
                    </td>
                </tr>
            </tbody>
        </table>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/knockout/2.2.1/knockout-min.js">
        </script>
        <script src="dungeonGenerator.js">
        </script>
        <script>
        var dungeonModel = function(x, y, objects) {
        var self = this;
        var d = new Dungeon();
        d.createDungeon(x, y, objects);
        self.x = ko.observable(x);
        self.y = ko.observable(y);
        self.rows = ko.observableArray();
        self.generate = function() {
        	d.createDungeon(self.x(),self.y(),objects);
        	for(var j=0; j<self.rows().length;j++)
        		self.rows()[j].removeAll();
            self.rows.removeAll();
            for (var j = 0; j < self.y(); j++) {
                self.rows.push(ko.observableArray([]));
                for (var i = 0; i < self.x(); i++) {
                    self.rows()[j].push(d.getCellType(i, j));
                }
            }
        };
        self.generate();


    }
ko.applyBindings(new dungeonModel(20, 20, 10));
        </script>
    </body>

</html>
